{"ast":null,"code":"import axios from'axios';// ✅ Create axios instance\nconst api=axios.create({baseURL:process.env.REACT_APP_API_URL||'http://localhost:8080',timeout:10000,headers:{'Content-Type':'application/json'}});// ✅ Interceptors for debugging\napi.interceptors.request.use(config=>{var _config$method;console.log('🚀 API Request:',(_config$method=config.method)===null||_config$method===void 0?void 0:_config$method.toUpperCase(),config.url);return config;},error=>{console.error('❌ API Request Error:',error);return Promise.reject(error);});api.interceptors.response.use(response=>{console.log('✅ API Response:',response.status,response.config.url);return response;},error=>{var _error$response;console.error('❌ API Response Error:',(_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.status,error.message);return Promise.reject(error);});// ✅ All API functions under one object\nconst urlService={// 🔹 Shorten URL\nshortenUrl:async(longUrl,expiryDate)=>{try{const payload={longUrl:longUrl,expiryDate:expiryDate};const response=await api.post('/api/shorten',payload);return response.data;}catch(error){var _error$response2,_error$response2$data;throw new Error(((_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.message)||'Failed to shorten URL');}},// 🔹 Get all URLs\ngetAllUrls:async()=>{try{const response=await api.get('/api/all');return response.data;}catch(error){var _error$response3,_error$response3$data;throw new Error(((_error$response3=error.response)===null||_error$response3===void 0?void 0:(_error$response3$data=_error$response3.data)===null||_error$response3$data===void 0?void 0:_error$response3$data.message)||'Failed to fetch URLs');}},// 🔹 Delete URL\ndeleteUrl:async shortCode=>{try{const response=await api.delete(\"/api/\".concat(shortCode));return response.data;}catch(error){var _error$response4,_error$response4$data;throw new Error(((_error$response4=error.response)===null||_error$response4===void 0?void 0:(_error$response4$data=_error$response4.data)===null||_error$response4$data===void 0?void 0:_error$response4$data.message)||'Failed to delete URL');}},// 🔹 Redirect / Analytics\ngetRedirect:async shortCode=>{try{const response=await api.get(\"/\".concat(shortCode));return response.data;}catch(error){var _error$response5,_error$response5$data;throw new Error(((_error$response5=error.response)===null||_error$response5===void 0?void 0:(_error$response5$data=_error$response5.data)===null||_error$response5$data===void 0?void 0:_error$response5$data.message)||'URL not found');}},// 🔹 Health Check\nhealthCheck:async()=>{try{const response=await api.get('/actuator/health');return response.data;}catch(error){throw new Error('Service unavailable');}}};export default urlService;","map":{"version":3,"names":["axios","api","create","baseURL","process","env","REACT_APP_API_URL","timeout","headers","interceptors","request","use","config","_config$method","console","log","method","toUpperCase","url","error","Promise","reject","response","status","_error$response","message","urlService","shortenUrl","longUrl","expiryDate","payload","post","data","_error$response2","_error$response2$data","Error","getAllUrls","get","_error$response3","_error$response3$data","deleteUrl","shortCode","delete","concat","_error$response4","_error$response4$data","getRedirect","_error$response5","_error$response5$data","healthCheck"],"sources":["D:/new for work/projects/url-shortener/frontend/src/pages/Home.js"],"sourcesContent":["import axios from 'axios';\r\n\r\n// ✅ Create axios instance\r\nconst api = axios.create({\r\n  baseURL: process.env.REACT_APP_API_URL || 'http://localhost:8080',\r\n  timeout: 10000,\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n  },\r\n});\r\n\r\n// ✅ Interceptors for debugging\r\napi.interceptors.request.use(\r\n  (config) => {\r\n    console.log('🚀 API Request:', config.method?.toUpperCase(), config.url);\r\n    return config;\r\n  },\r\n  (error) => {\r\n    console.error('❌ API Request Error:', error);\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\napi.interceptors.response.use(\r\n  (response) => {\r\n    console.log('✅ API Response:', response.status, response.config.url);\r\n    return response;\r\n  },\r\n  (error) => {\r\n    console.error('❌ API Response Error:', error.response?.status, error.message);\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n// ✅ All API functions under one object\r\nconst urlService = {\r\n  // 🔹 Shorten URL\r\n  shortenUrl: async (longUrl, expiryDate) => {\r\n    try {\r\n      const payload = {\r\n        longUrl: longUrl,\r\n        expiryDate: expiryDate,\r\n      };\r\n      const response = await api.post('/api/shorten', payload);\r\n      return response.data;\r\n    } catch (error) {\r\n      throw new Error(error.response?.data?.message || 'Failed to shorten URL');\r\n    }\r\n  },\r\n\r\n  // 🔹 Get all URLs\r\n  getAllUrls: async () => {\r\n    try {\r\n      const response = await api.get('/api/all');\r\n      return response.data;\r\n    } catch (error) {\r\n      throw new Error(error.response?.data?.message || 'Failed to fetch URLs');\r\n    }\r\n  },\r\n\r\n  // 🔹 Delete URL\r\n  deleteUrl: async (shortCode) => {\r\n    try {\r\n      const response = await api.delete(`/api/${shortCode}`);\r\n      return response.data;\r\n    } catch (error) {\r\n      throw new Error(error.response?.data?.message || 'Failed to delete URL');\r\n    }\r\n  },\r\n\r\n  // 🔹 Redirect / Analytics\r\n  getRedirect: async (shortCode) => {\r\n    try {\r\n      const response = await api.get(`/${shortCode}`);\r\n      return response.data;\r\n    } catch (error) {\r\n      throw new Error(error.response?.data?.message || 'URL not found');\r\n    }\r\n  },\r\n\r\n  // 🔹 Health Check\r\n  healthCheck: async () => {\r\n    try {\r\n      const response = await api.get('/actuator/health');\r\n      return response.data;\r\n    } catch (error) {\r\n      throw new Error('Service unavailable');\r\n    }\r\n  },\r\n};\r\n\r\nexport default urlService;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}