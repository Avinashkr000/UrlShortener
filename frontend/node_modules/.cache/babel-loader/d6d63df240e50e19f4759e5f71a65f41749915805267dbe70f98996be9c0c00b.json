{"ast":null,"code":"import{useState,useEffect}from\"react\";import{toast}from\"react-toastify\";import{Link2,Copy,QrCode,Calendar}from\"lucide-react\";import QRCode from\"react-qr-code\";import copy from\"copy-to-clipboard\";import api from\"../services/api\";// ‚úÖ Correct default import\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Home(){const[url,setUrl]=useState(\"\");const[expiry,setExpiry]=useState(\"\");const[shortUrl,setShortUrl]=useState(\"\");const[loading,setLoading]=useState(false);const[error,setError]=useState(\"\");const[showQR,setShowQR]=useState(false);const[backendStatus,setBackendStatus]=useState(\"checking\");// checking, online, offline\n// ‚úÖ useEffect imported now\nuseEffect(()=>{checkBackendHealth();},[]);const checkBackendHealth=async()=>{try{if(api&&typeof api.healthCheck===\"function\"){await api.healthCheck();// ‚úÖ fixed urlService -> api\nsetBackendStatus(\"online\");}else{setBackendStatus(\"online\");}}catch(error){setBackendStatus(\"offline\");console.warn(\"Backend health check failed:\",(error===null||error===void 0?void 0:error.message)||error);}};const buildFinalShort=result=>{if(!result)return\"\";if(typeof result===\"string\"){return result;}if(result.shortUrl){return result.shortUrl;}if(result.shortCode){const origin=window.location.origin||\"https://url-shortener-backend-k0pv.onrender.com\";return\"\".concat(origin.replace(/\\/$/,\"\"),\"/\").concat(result.shortCode);}return\"\";};const handleSubmit=async e=>{e.preventDefault();setError(\"\");setShortUrl(\"\");setShowQR(false);if(!url||!url.trim()){setError(\"Please enter a URL.\");return;}try{const parsed=new URL(url);if(![\"http:\",\"https:\"].includes(parsed.protocol)){throw new Error(\"Invalid protocol\");}}catch(_unused){setError(\"Please enter a valid URL (include http:// or https://).\");return;}if(expiry){const ts=Date.parse(expiry);if(Number.isNaN(ts)){setError(\"Expiry date is invalid.\");return;}if(ts<=Date.now()){setError(\"Expiry date must be in the future.\");return;}}setLoading(true);try{// ‚úÖ fixed shortenUrl usage, no destructured import now\nlet result;if(api&&typeof api.shortenUrl===\"function\"){result=await api.shortenUrl(url,expiry||null);}else if(typeof api===\"function\"){result=await api(url,expiry||null);}else if(api&&typeof api.default===\"function\"){result=await api.default(url,expiry||null);}else{throw new Error(\"Shorten function not available on API module\");}const final=buildFinalShort(result);if(!final){throw new Error(\"Unexpected API response\");}setShortUrl(final);setUrl(\"\");setExpiry(\"\");toast.success(\"URL shortened successfully! ‚úÖ\");}catch(err){console.error(err);const message=(err===null||err===void 0?void 0:err.message)||\"Failed to shorten URL. Please try again!\";setError(\"\\u26A0\\uFE0F \".concat(message));toast.error(message);}finally{setLoading(false);}};const handleCopy=()=>{if(!shortUrl)return;if(copy(shortUrl)){toast.success(\"Copied to clipboard! üìã\");}else{toast.error(\"Failed to copy\");}};const handleReset=()=>{setError(\"\");setShowQR(false);};const getMinDateTime=()=>{const now=new Date();now.setMinutes(now.getMinutes()+1);return now.toISOString().slice(0,16);};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50 flex flex-col items-center justify-center px-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white shadow-lg rounded-2xl p-8 w-full max-w-md text-center\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"text-3xl font-bold text-blue-600 mb-6 flex items-center justify-center gap-3\",children:[/*#__PURE__*/_jsx(\"span\",{role:\"img\",\"aria-label\":\"link\",children:\"\\uD83D\\uDD17\"}),\" \",\"URL Shortener\",/*#__PURE__*/_jsx(\"span\",{className:\"text-sm rounded-full px-2 py-1 \".concat(backendStatus===\"online\"?\"bg-green-100 text-green-700\":backendStatus===\"offline\"?\"bg-red-100 text-red-700\":\"bg-gray-100 text-gray-700\"),children:backendStatus})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(Link2,{className:\"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400\"}),/*#__PURE__*/_jsx(\"input\",{type:\"url\",required:true,value:url,onChange:e=>setUrl(e.target.value),placeholder:\"https://example.com/very-long-url\",className:\"w-full px-4 py-2 pl-12 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(Calendar,{className:\"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400\"}),/*#__PURE__*/_jsx(\"input\",{type:\"datetime-local\",value:expiry,onChange:e=>setExpiry(e.target.value),min:getMinDateTime(),className:\"w-full px-4 py-2 pl-12 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none\",\"aria-label\":\"Expiry date (optional)\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-3\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,className:\"flex-1 bg-blue-600 text-white font-semibold py-2 rounded-lg hover:bg-blue-700 disabled:bg-gray-400 transition\",children:loading?\"Shortening...\":\"Shorten URL\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:handleReset,className:\"px-4 py-2 rounded-lg border border-gray-200 bg-white text-gray-700 hover:bg-gray-50\",children:\"Reset\"})]})]}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500 mt-3\",children:error}),shortUrl&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 text-left\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-1\",children:\"\\u2705 Your short link:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3 flex-wrap\",children:[/*#__PURE__*/_jsx(\"a\",{href:shortUrl,target:\"_blank\",rel:\"noopener noreferrer\",className:\"text-blue-600 font-semibold break-all hover:underline\",children:shortUrl}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 ml-auto\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:handleCopy,className:\"flex items-center gap-2 bg-blue-500 text-white px-3 py-1 rounded-lg hover:bg-blue-600 transition\",children:[/*#__PURE__*/_jsx(Copy,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Copy\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowQR(s=>!s),className:\"flex items-center gap-2 bg-purple-500 text-white px-3 py-1 rounded-lg hover:bg-purple-600 transition\",children:[/*#__PURE__*/_jsx(QrCode,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"QR\"})]})]})]}),showQR&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"inline-block p-4 bg-white rounded-lg shadow-lg\",children:/*#__PURE__*/_jsx(QRCode,{value:shortUrl,size:160})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500 mt-2\",children:\"Scan to open the shortened URL\"})]})]})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"mt-6 text-gray-500 text-sm\",children:[\"Made with \",/*#__PURE__*/_jsx(\"span\",{\"aria-hidden\":true,children:\"\\u2764\\uFE0F\"}),\" by\",\" \",/*#__PURE__*/_jsx(\"span\",{className:\"text-blue-600 font-semibold\",children:\"Avinash\"})]})]});}","map":{"version":3,"names":["useState","useEffect","toast","Link2","Copy","QrCode","Calendar","QRCode","copy","api","jsx","_jsx","jsxs","_jsxs","Home","url","setUrl","expiry","setExpiry","shortUrl","setShortUrl","loading","setLoading","error","setError","showQR","setShowQR","backendStatus","setBackendStatus","checkBackendHealth","healthCheck","console","warn","message","buildFinalShort","result","shortCode","origin","window","location","concat","replace","handleSubmit","e","preventDefault","trim","parsed","URL","includes","protocol","Error","_unused","ts","Date","parse","Number","isNaN","now","shortenUrl","default","final","success","err","handleCopy","handleReset","getMinDateTime","setMinutes","getMinutes","toISOString","slice","className","children","role","onSubmit","type","required","value","onChange","target","placeholder","min","disabled","onClick","href","rel","s","size"],"sources":["D:/new for work/projects/url-shortener/frontend/src/pages/Home.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\nimport { Link2, Copy, QrCode, Calendar } from \"lucide-react\";\r\nimport QRCode from \"react-qr-code\";\r\nimport copy from \"copy-to-clipboard\";\r\nimport api from \"../services/api\"; // ‚úÖ Correct default import\r\n\r\nexport default function Home() {\r\n  const [url, setUrl] = useState(\"\");\r\n  const [expiry, setExpiry] = useState(\"\");\r\n  const [shortUrl, setShortUrl] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(\"\");\r\n  const [showQR, setShowQR] = useState(false);\r\n  const [backendStatus, setBackendStatus] = useState(\"checking\"); // checking, online, offline\r\n\r\n  // ‚úÖ useEffect imported now\r\n  useEffect(() => {\r\n    checkBackendHealth();\r\n  }, []);\r\n\r\n  const checkBackendHealth = async () => {\r\n    try {\r\n      if (api && typeof api.healthCheck === \"function\") {\r\n        await api.healthCheck(); // ‚úÖ fixed urlService -> api\r\n        setBackendStatus(\"online\");\r\n      } else {\r\n        setBackendStatus(\"online\");\r\n      }\r\n    } catch (error) {\r\n      setBackendStatus(\"offline\");\r\n      console.warn(\"Backend health check failed:\", error?.message || error);\r\n    }\r\n  };\r\n\r\n  const buildFinalShort = (result) => {\r\n    if (!result) return \"\";\r\n    if (typeof result === \"string\") {\r\n      return result;\r\n    }\r\n    if (result.shortUrl) {\r\n      return result.shortUrl;\r\n    }\r\n    if (result.shortCode) {\r\n      const origin =\r\n        window.location.origin ||\r\n        \"https://url-shortener-backend-k0pv.onrender.com\";\r\n      return `${origin.replace(/\\/$/, \"\")}/${result.shortCode}`;\r\n    }\r\n    return \"\";\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setError(\"\");\r\n    setShortUrl(\"\");\r\n    setShowQR(false);\r\n\r\n    if (!url || !url.trim()) {\r\n      setError(\"Please enter a URL.\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const parsed = new URL(url);\r\n      if (![\"http:\", \"https:\"].includes(parsed.protocol)) {\r\n        throw new Error(\"Invalid protocol\");\r\n      }\r\n    } catch {\r\n      setError(\"Please enter a valid URL (include http:// or https://).\");\r\n      return;\r\n    }\r\n\r\n    if (expiry) {\r\n      const ts = Date.parse(expiry);\r\n      if (Number.isNaN(ts)) {\r\n        setError(\"Expiry date is invalid.\");\r\n        return;\r\n      }\r\n      if (ts <= Date.now()) {\r\n        setError(\"Expiry date must be in the future.\");\r\n        return;\r\n      }\r\n    }\r\n\r\n    setLoading(true);\r\n    try {\r\n      // ‚úÖ fixed shortenUrl usage, no destructured import now\r\n      let result;\r\n      if (api && typeof api.shortenUrl === \"function\") {\r\n        result = await api.shortenUrl(url, expiry || null);\r\n      } else if (typeof api === \"function\") {\r\n        result = await api(url, expiry || null);\r\n      } else if (api && typeof api.default === \"function\") {\r\n        result = await api.default(url, expiry || null);\r\n      } else {\r\n        throw new Error(\"Shorten function not available on API module\");\r\n      }\r\n\r\n      const final = buildFinalShort(result);\r\n      if (!final) {\r\n        throw new Error(\"Unexpected API response\");\r\n      }\r\n      setShortUrl(final);\r\n      setUrl(\"\");\r\n      setExpiry(\"\");\r\n      toast.success(\"URL shortened successfully! ‚úÖ\");\r\n    } catch (err) {\r\n      console.error(err);\r\n      const message =\r\n        err?.message || \"Failed to shorten URL. Please try again!\";\r\n      setError(`‚ö†Ô∏è ${message}`);\r\n      toast.error(message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleCopy = () => {\r\n    if (!shortUrl) return;\r\n    if (copy(shortUrl)) {\r\n      toast.success(\"Copied to clipboard! üìã\");\r\n    } else {\r\n      toast.error(\"Failed to copy\");\r\n    }\r\n  };\r\n\r\n  const handleReset = () => {\r\n    setError(\"\");\r\n    setShowQR(false);\r\n  };\r\n\r\n  const getMinDateTime = () => {\r\n    const now = new Date();\r\n    now.setMinutes(now.getMinutes() + 1);\r\n    return now.toISOString().slice(0, 16);\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 flex flex-col items-center justify-center px-4\">\r\n      <div className=\"bg-white shadow-lg rounded-2xl p-8 w-full max-w-md text-center\">\r\n        <h1 className=\"text-3xl font-bold text-blue-600 mb-6 flex items-center justify-center gap-3\">\r\n          <span role=\"img\" aria-label=\"link\">\r\n            üîó\r\n          </span>{\" \"}\r\n          URL Shortener\r\n          <span\r\n            className={`text-sm rounded-full px-2 py-1 ${\r\n              backendStatus === \"online\"\r\n                ? \"bg-green-100 text-green-700\"\r\n                : backendStatus === \"offline\"\r\n                ? \"bg-red-100 text-red-700\"\r\n                : \"bg-gray-100 text-gray-700\"\r\n            }`}\r\n          >\r\n            {backendStatus}\r\n          </span>\r\n        </h1>\r\n\r\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n          <div className=\"relative\">\r\n            <Link2 className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400\" />\r\n            <input\r\n              type=\"url\"\r\n              required\r\n              value={url}\r\n              onChange={(e) => setUrl(e.target.value)}\r\n              placeholder=\"https://example.com/very-long-url\"\r\n              className=\"w-full px-4 py-2 pl-12 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"relative\">\r\n            <Calendar className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400\" />\r\n            <input\r\n              type=\"datetime-local\"\r\n              value={expiry}\r\n              onChange={(e) => setExpiry(e.target.value)}\r\n              min={getMinDateTime()}\r\n              className=\"w-full px-4 py-2 pl-12 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none\"\r\n              aria-label=\"Expiry date (optional)\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"flex gap-3\">\r\n            <button\r\n              type=\"submit\"\r\n              disabled={loading}\r\n              className=\"flex-1 bg-blue-600 text-white font-semibold py-2 rounded-lg hover:bg-blue-700 disabled:bg-gray-400 transition\"\r\n            >\r\n              {loading ? \"Shortening...\" : \"Shorten URL\"}\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              onClick={handleReset}\r\n              className=\"px-4 py-2 rounded-lg border border-gray-200 bg-white text-gray-700 hover:bg-gray-50\"\r\n            >\r\n              Reset\r\n            </button>\r\n          </div>\r\n        </form>\r\n\r\n        {error && <p className=\"text-red-500 mt-3\">{error}</p>}\r\n\r\n        {shortUrl && (\r\n          <div className=\"mt-6 text-left\">\r\n            <p className=\"text-gray-600 mb-1\">‚úÖ Your short link:</p>\r\n            <div className=\"flex items-center gap-3 flex-wrap\">\r\n              <a\r\n                href={shortUrl}\r\n                target=\"_blank\"\r\n                rel=\"noopener noreferrer\"\r\n                className=\"text-blue-600 font-semibold break-all hover:underline\"\r\n              >\r\n                {shortUrl}\r\n              </a>\r\n\r\n              <div className=\"flex items-center gap-2 ml-auto\">\r\n                <button\r\n                  onClick={handleCopy}\r\n                  className=\"flex items-center gap-2 bg-blue-500 text-white px-3 py-1 rounded-lg hover:bg-blue-600 transition\"\r\n                >\r\n                  <Copy className=\"h-4 w-4\" />\r\n                  <span>Copy</span>\r\n                </button>\r\n\r\n                <button\r\n                  onClick={() => setShowQR((s) => !s)}\r\n                  className=\"flex items-center gap-2 bg-purple-500 text-white px-3 py-1 rounded-lg hover:bg-purple-600 transition\"\r\n                >\r\n                  <QrCode className=\"h-4 w-4\" />\r\n                  <span>QR</span>\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            {showQR && (\r\n              <div className=\"mt-4 text-center\">\r\n                <div className=\"inline-block p-4 bg-white rounded-lg shadow-lg\">\r\n                  <QRCode value={shortUrl} size={160} />\r\n                </div>\r\n                <p className=\"text-sm text-gray-500 mt-2\">\r\n                  Scan to open the shortened URL\r\n                </p>\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      <p className=\"mt-6 text-gray-500 text-sm\">\r\n        Made with <span aria-hidden>‚ù§Ô∏è</span> by{\" \"}\r\n        <span className=\"text-blue-600 font-semibold\">Avinash</span>\r\n      </p>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}