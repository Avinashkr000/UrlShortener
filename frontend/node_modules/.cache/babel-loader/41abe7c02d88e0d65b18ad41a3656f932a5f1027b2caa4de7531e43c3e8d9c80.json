{"ast":null,"code":"import axios from'axios';// ‚úÖ Create axios instance with base configuration\nconst api=axios.create({baseURL:process.env.REACT_APP_API_URL||'http://localhost:8080',timeout:10000,headers:{'Content-Type':'application/json'}});// ‚úÖ Request interceptor (for debugging/logging)\napi.interceptors.request.use(config=>{var _config$method;console.log('üöÄ API Request:',(_config$method=config.method)===null||_config$method===void 0?void 0:_config$method.toUpperCase(),config.url);return config;},error=>{console.error('‚ùå API Request Error:',error);return Promise.reject(error);});// ‚úÖ Response interceptor (for debugging/logging)\napi.interceptors.response.use(response=>{console.log('‚úÖ API Response:',response.status,response.config.url);return response;},error=>{var _error$response;console.error('‚ùå API Response Error:',(_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.status,error.message);return Promise.reject(error);});// ‚úÖ All API calls wrapped inside a single service object\nconst urlService={/**\r\n   * üîπ Shorten URL\r\n   * @param {string} longUrl - The long URL to shorten\r\n   * @param {string|null} expiryDate - Optional expiry date\r\n   */shortenUrl:async(longUrl,expiryDate)=>{try{const payload={longUrl:longUrl,// ‚úÖ matches backend DTO\nexpiryDate:expiryDate};const response=await api.post('/api/shorten',payload);console.log('üîó Shorten Response:',response.data);return response.data;}catch(error){var _error$response2,_error$response2$data;console.error('‚ùå Shorten URL Error:',error);throw new Error(((_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.message)||'Failed to shorten URL');}},/**\r\n   * üîπ Fetch all shortened URLs\r\n   */getAllUrls:async()=>{try{const response=await api.get('/api/all');return response.data;}catch(error){var _error$response3,_error$response3$data;console.error('‚ùå Get All URLs Error:',error);throw new Error(((_error$response3=error.response)===null||_error$response3===void 0?void 0:(_error$response3$data=_error$response3.data)===null||_error$response3$data===void 0?void 0:_error$response3$data.message)||'Failed to fetch URLs');}},/**\r\n   * üîπ Delete a shortened URL by its short code\r\n   */deleteUrl:async shortCode=>{try{const response=await api.delete(\"/api/\".concat(shortCode));return response.data;}catch(error){var _error$response4,_error$response4$data;console.error('‚ùå Delete URL Error:',error);throw new Error(((_error$response4=error.response)===null||_error$response4===void 0?void 0:(_error$response4$data=_error$response4.data)===null||_error$response4$data===void 0?void 0:_error$response4$data.message)||'Failed to delete URL');}},/**\r\n   * üîπ Get redirect details (analytics)\r\n   */getRedirect:async shortCode=>{try{const response=await api.get(\"/\".concat(shortCode));return response.data;}catch(error){var _error$response5,_error$response5$data;console.error('‚ùå Redirect Error:',error);throw new Error(((_error$response5=error.response)===null||_error$response5===void 0?void 0:(_error$response5$data=_error$response5.data)===null||_error$response5$data===void 0?void 0:_error$response5$data.message)||'URL not found');}},/**\r\n   * üîπ Health check endpoint\r\n   */healthCheck:async()=>{try{const response=await api.get('/actuator/health');return response.data;}catch(error){console.error('‚ùå Health Check Error:',error);throw new Error('Service unavailable');}}};// ‚úÖ Export the service for use in components\nexport default urlService;","map":{"version":3,"names":["axios","api","create","baseURL","process","env","REACT_APP_API_URL","timeout","headers","interceptors","request","use","config","_config$method","console","log","method","toUpperCase","url","error","Promise","reject","response","status","_error$response","message","urlService","shortenUrl","longUrl","expiryDate","payload","post","data","_error$response2","_error$response2$data","Error","getAllUrls","get","_error$response3","_error$response3$data","deleteUrl","shortCode","delete","concat","_error$response4","_error$response4$data","getRedirect","_error$response5","_error$response5$data","healthCheck"],"sources":["D:/new for work/projects/url-shortener/frontend/src/services/api.js"],"sourcesContent":["import axios from 'axios';\r\n\r\n// ‚úÖ Create axios instance with base configuration\r\nconst api = axios.create({\r\n  baseURL: process.env.REACT_APP_API_URL || 'http://localhost:8080',\r\n  timeout: 10000,\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n  },\r\n});\r\n\r\n// ‚úÖ Request interceptor (for debugging/logging)\r\napi.interceptors.request.use(\r\n  (config) => {\r\n    console.log('üöÄ API Request:', config.method?.toUpperCase(), config.url);\r\n    return config;\r\n  },\r\n  (error) => {\r\n    console.error('‚ùå API Request Error:', error);\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n// ‚úÖ Response interceptor (for debugging/logging)\r\napi.interceptors.response.use(\r\n  (response) => {\r\n    console.log('‚úÖ API Response:', response.status, response.config.url);\r\n    return response;\r\n  },\r\n  (error) => {\r\n    console.error('‚ùå API Response Error:', error.response?.status, error.message);\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n// ‚úÖ All API calls wrapped inside a single service object\r\nconst urlService = {\r\n  /**\r\n   * üîπ Shorten URL\r\n   * @param {string} longUrl - The long URL to shorten\r\n   * @param {string|null} expiryDate - Optional expiry date\r\n   */\r\n  shortenUrl: async (longUrl, expiryDate) => {\r\n    try {\r\n      const payload = {\r\n        longUrl: longUrl, // ‚úÖ matches backend DTO\r\n        expiryDate: expiryDate,\r\n      };\r\n\r\n      const response = await api.post('/api/shorten', payload);\r\n      console.log('üîó Shorten Response:', response.data);\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('‚ùå Shorten URL Error:', error);\r\n      throw new Error(error.response?.data?.message || 'Failed to shorten URL');\r\n    }\r\n  },\r\n\r\n  /**\r\n   * üîπ Fetch all shortened URLs\r\n   */\r\n  getAllUrls: async () => {\r\n    try {\r\n      const response = await api.get('/api/all');\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('‚ùå Get All URLs Error:', error);\r\n      throw new Error(error.response?.data?.message || 'Failed to fetch URLs');\r\n    }\r\n  },\r\n\r\n  /**\r\n   * üîπ Delete a shortened URL by its short code\r\n   */\r\n  deleteUrl: async (shortCode) => {\r\n    try {\r\n      const response = await api.delete(`/api/${shortCode}`);\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('‚ùå Delete URL Error:', error);\r\n      throw new Error(error.response?.data?.message || 'Failed to delete URL');\r\n    }\r\n  },\r\n\r\n  /**\r\n   * üîπ Get redirect details (analytics)\r\n   */\r\n  getRedirect: async (shortCode) => {\r\n    try {\r\n      const response = await api.get(`/${shortCode}`);\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('‚ùå Redirect Error:', error);\r\n      throw new Error(error.response?.data?.message || 'URL not found');\r\n    }\r\n  },\r\n\r\n  /**\r\n   * üîπ Health check endpoint\r\n   */\r\n  healthCheck: async () => {\r\n    try {\r\n      const response = await api.get('/actuator/health');\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('‚ùå Health Check Error:', error);\r\n      throw new Error('Service unavailable');\r\n    }\r\n  },\r\n};\r\n\r\n// ‚úÖ Export the service for use in components\r\nexport default urlService;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}