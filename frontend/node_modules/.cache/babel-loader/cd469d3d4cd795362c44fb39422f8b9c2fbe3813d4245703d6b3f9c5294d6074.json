{"ast":null,"code":"import axios from'axios';// âœ… Create axios instance\nconst api=axios.create({baseURL:process.env.REACT_APP_API_URL||'http://localhost:8080',timeout:10000,headers:{'Content-Type':'application/json'}});// âœ… Interceptors for debug logs\napi.interceptors.request.use(config=>{var _config$method;console.log('ðŸš€ Request:',(_config$method=config.method)===null||_config$method===void 0?void 0:_config$method.toUpperCase(),config.url);return config;},error=>Promise.reject(error));api.interceptors.response.use(response=>response,error=>Promise.reject(error));// âœ… Backend service functions\nconst urlService={shortenUrl:async(longUrl,expiryDate)=>{try{const payload={longUrl,expiryDate};const response=await api.post('/api/shorten',payload);return response.data;}catch(error){var _error$response,_error$response$data;throw new Error(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||'Failed to shorten URL');}},getAllUrls:async()=>{try{const response=await api.get('/api/all');return response.data;}catch(error){var _error$response2,_error$response2$data;throw new Error(((_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.message)||'Failed to fetch URLs');}},deleteUrl:async shortCode=>{try{const response=await api.delete(\"/api/\".concat(shortCode));return response.data;}catch(error){var _error$response3,_error$response3$data;throw new Error(((_error$response3=error.response)===null||_error$response3===void 0?void 0:(_error$response3$data=_error$response3.data)===null||_error$response3$data===void 0?void 0:_error$response3$data.message)||'Failed to delete URL');}},getRedirect:async shortCode=>{try{const response=await api.get(\"/\".concat(shortCode));return response.data;}catch(error){var _error$response4,_error$response4$data;throw new Error(((_error$response4=error.response)===null||_error$response4===void 0?void 0:(_error$response4$data=_error$response4.data)===null||_error$response4$data===void 0?void 0:_error$response4$data.message)||'URL not found');}},healthCheck:async()=>{try{const response=await api.get('/actuator/health');return response.data;}catch(error){throw new Error('Service unavailable');}}};// âœ… Export default (no curly braces on import)\nexport default urlService;","map":{"version":3,"names":["axios","api","create","baseURL","process","env","REACT_APP_API_URL","timeout","headers","interceptors","request","use","config","_config$method","console","log","method","toUpperCase","url","error","Promise","reject","response","urlService","shortenUrl","longUrl","expiryDate","payload","post","data","_error$response","_error$response$data","Error","message","getAllUrls","get","_error$response2","_error$response2$data","deleteUrl","shortCode","delete","concat","_error$response3","_error$response3$data","getRedirect","_error$response4","_error$response4$data","healthCheck"],"sources":["D:/new for work/projects/url-shortener/frontend/src/services/api.js"],"sourcesContent":["import axios from 'axios';\r\n\r\n// âœ… Create axios instance\r\nconst api = axios.create({\r\n  baseURL: process.env.REACT_APP_API_URL || 'http://localhost:8080',\r\n  timeout: 10000,\r\n  headers: { 'Content-Type': 'application/json' },\r\n});\r\n\r\n// âœ… Interceptors for debug logs\r\napi.interceptors.request.use(\r\n  (config) => {\r\n    console.log('ðŸš€ Request:', config.method?.toUpperCase(), config.url);\r\n    return config;\r\n  },\r\n  (error) => Promise.reject(error)\r\n);\r\n\r\napi.interceptors.response.use(\r\n  (response) => response,\r\n  (error) => Promise.reject(error)\r\n);\r\n\r\n// âœ… Backend service functions\r\nconst urlService = {\r\n  shortenUrl: async (longUrl, expiryDate) => {\r\n    try {\r\n      const payload = { longUrl, expiryDate };\r\n      const response = await api.post('/api/shorten', payload);\r\n      return response.data;\r\n    } catch (error) {\r\n      throw new Error(error.response?.data?.message || 'Failed to shorten URL');\r\n    }\r\n  },\r\n\r\n  getAllUrls: async () => {\r\n    try {\r\n      const response = await api.get('/api/all');\r\n      return response.data;\r\n    } catch (error) {\r\n      throw new Error(error.response?.data?.message || 'Failed to fetch URLs');\r\n    }\r\n  },\r\n\r\n  deleteUrl: async (shortCode) => {\r\n    try {\r\n      const response = await api.delete(`/api/${shortCode}`);\r\n      return response.data;\r\n    } catch (error) {\r\n      throw new Error(error.response?.data?.message || 'Failed to delete URL');\r\n    }\r\n  },\r\n\r\n  getRedirect: async (shortCode) => {\r\n    try {\r\n      const response = await api.get(`/${shortCode}`);\r\n      return response.data;\r\n    } catch (error) {\r\n      throw new Error(error.response?.data?.message || 'URL not found');\r\n    }\r\n  },\r\n\r\n  healthCheck: async () => {\r\n    try {\r\n      const response = await api.get('/actuator/health');\r\n      return response.data;\r\n    } catch (error) {\r\n      throw new Error('Service unavailable');\r\n    }\r\n  },\r\n};\r\n\r\n// âœ… Export default (no curly braces on import)\r\nexport default urlService;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}